<%
const layoutBody = `
<div class="posts">
    <% if (posts.length === 0) { %>
        <p>No posts yet. Create your first post with <code>npm run new post "My First Post"</code></p>
    <% } else { %>
        <ul class="post-list">
            <% posts.forEach(post => { %>
                <li class="post-item">
                    <h2><a href="<%= post.url %>"><%= post.title %></a></h2>
                    <div class="post-meta">
                        <time datetime="<%= post.date %>"><%= formatDate(post.date) %></time>
                        <% if (post.readingTime) { %>
                            · <%= post.readingTime.text %>
                        <% } %>
                    </div>
                    <p><%= post.excerpt %></p>
                    <% if (post.tags && post.tags.length > 0) { %>
                        <div class="tags">
                            <% post.tags.forEach(tag => { %>
                                <a href="/tags/<%= tag.toLowerCase().replace(/\\s+/g, '-') %>/" class="tag"><%= tag %></a>
                            <% }) %>
                        </div>
                    <% } %>
                </li>
            <% }) %>
        </ul>

        <% if (pagination.totalPages > 1) { %>
            <div class="pagination">
                <% if (pagination.hasPrev) { %>
                    <a href="<%= pagination.page === 2 ? '/' : '/page/' + (pagination.page - 1) + '/' %>">← Newer Posts</a>
                <% } else { %>
                    <span></span>
                <% } %>
                
                <span>Page <%= pagination.page %> of <%= pagination.totalPages %></span>
                
                <% if (pagination.hasNext) { %>
                    <a href="/page/<%= pagination.page + 1 %>/">Older Posts →</a>
                <% } else { %>
                    <span></span>
                <% } %>
            </div>
        <% } %>
    <% } %>
</div>
`;
%>

<%- include('layout', { body: layoutBody, title: '', config, meta, structuredData }) %>

