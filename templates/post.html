{% extends "base.html" %}

{% block content %}
<article class="post">
  <div class="container">
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <a href="{{ site.baseUrl }}/">Home</a>
      <span aria-hidden="true">/</span>
      <a href="{{ site.baseUrl }}/blog/">Blog</a>
      <span aria-hidden="true">/</span>
      <span aria-current="page">{{ title }}</span>
    </nav>

    <header class="post-header">
      <h1>{{ title }}</h1>
      <div class="post-meta">
        <time datetime="{{ date | date('yyyy-MM-dd') }}">{{ date | date('MMMM dd, yyyy') }}</time>
        <span class="separator">•</span>
        <span class="author">{{ author }}</span>
        {% if readingTime %}
        <span class="separator">•</span>
        <span class="reading-time">{{ readingTime }}</span>
        {% endif %}
        {% if tags.length > 0 %}
        <span class="separator">•</span>
        <span>Tags:</span>
        {% for tag in tags %}
        <a href="{{ site.baseUrl }}/tag/{{ tag | slug }}/" class="tag">{{ tag }}</a>
        {% endfor %}
        {% endif %}
        {% if categories and categories.length > 0 %}
        <span class="separator">•</span>
        <span>Categories:</span>
        {% for category in categories %}
        <a href="{{ site.baseUrl }}/category/{{ category | slug }}/" class="tag">{{ category }}</a>
        {% endfor %}
        {% endif %}
      </div>
    </header>

    <div class="post-layout">
      <div class="post-main">
        <div class="post-content">
          {{ content | safe }}
        </div>

        {% if related and related.length > 0 %}
        <section class="related-posts">
          <h2>Related Posts</h2>
          <div class="posts-list">
            {% for relatedPost in related %}
            <article class="post-preview">
              <h3><a href="{{ site.baseUrl }}{{ relatedPost.url }}">{{ relatedPost.title }}</a></h3>
              <div class="post-meta">
                <time datetime="{{ relatedPost.date | date('yyyy-MM-dd') }}">{{ relatedPost.date | date('MMMM dd, yyyy') }}</time>
                {% if relatedPost.readingTime %}
                <span class="separator">•</span>
                <span class="reading-time">{{ relatedPost.readingTime }}</span>
                {% endif %}
              </div>
              <a href="{{ site.baseUrl }}{{ relatedPost.url }}" class="read-more">Read more →</a>
            </article>
            {% endfor %}
          </div>
        </section>
        {% endif %}

        <nav class="post-navigation">
          {% if prevPost %}
          <a href="{{ site.baseUrl }}{{ prevPost.url }}" class="post-nav-prev">
            <span class="post-nav-label">← Previous</span>
            <span class="post-nav-title">{{ prevPost.title }}</span>
          </a>
          {% endif %}
          {% if nextPost %}
          <a href="{{ site.baseUrl }}{{ nextPost.url }}" class="post-nav-next">
            <span class="post-nav-label">Next →</span>
            <span class="post-nav-title">{{ nextPost.title }}</span>
          </a>
          {% endif %}
        </nav>

        <footer class="post-footer">
          <div class="share-buttons">
            <span>Share:</span>
            <a href="https://twitter.com/intent/tweet?text={{ title | urlencode }}&url={{ site.absoluteBaseUrl }}{{ url }}" target="_blank" rel="noopener">Twitter</a>
            <a href="https://www.facebook.com/sharer/sharer.php?u={{ site.absoluteBaseUrl }}{{ url }}" target="_blank" rel="noopener">Facebook</a>
            <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ site.absoluteBaseUrl }}{{ url }}&title={{ title | urlencode }}" target="_blank" rel="noopener">LinkedIn</a>
          </div>
        </footer>
      </div>

      {% if toc %}
      <aside class="post-sidebar">
        <div class="table-of-contents">
          <h2>Table of Contents</h2>
          <nav class="toc-nav">
            <ul>
              {% for item in toc %}
              <li class="toc-level-{{ item.level }}">
                <a href="#{{ item.id }}" data-target="{{ item.id }}">{{ item.text }}</a>
              </li>
              {% endfor %}
            </ul>
          </nav>
        </div>
      </aside>
      {% endif %}
    </div>
  </div>
</article>
{% endblock %}
