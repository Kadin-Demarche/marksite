# MarkSite 1.1 Release Notes

## Summary
- Added an `:::install` Markdown block that renders a polished download card with inline fetching, spinner, and error messaging.
- Added draft/scheduled post filtering, category pages, related posts, breadcrumbs, and image lazy-loading.
- Added live reload in dev server, a `doctor` command, and cached markdown processing for faster rebuilds.
- Styled install cards plus new accessibility touches (skip link, focus-friendly defaults).
- Added one-click starters for blog, docs, and landing sites via `marksite init --preset`.
- Added a local `./marksite` runner so you can use the CLI without global npm install.
- Gave presets their own theme accents (blog/docs/landing) while keeping core styles shared.
- Updated docs, starter post, and roadmap to reflect the new syntax and constraints.

## Before vs After
- **Before:** Download links opened normally (new tab/external navigation) with no spinner or inline error state; no Markdown syntax for install CTAs.
- **After:** `:::install` block outputs a download card whose button fetches the file in-page, shows a spinning icon while downloading, updates to success/error states, and surfaces failure messages inline.

## Changes in 1.1
- Markdown: Added custom `install` block extension and image lazy-loading (`lib/markdown.js`).
- Publishing: Draft and future-dated posts are skipped by default, categories are supported, and related posts are calculated.
- Pages: Category archive template added (`templates/category.html`), breadcrumbs and related-posts section added to posts, and sitemap/RSS now include categories.
- Frontend: Styling for install cards, breadcrumbs, skip link, and related posts; install buttons fetch inline with spinner/success/error states (`assets/css/style.css`, `assets/js/main.js`).
- Dev XP: Live reload via SSE in `serve`, cached markdown processing to speed rebuilds, smaller search index, and a new `marksite doctor` health check.
- Starters: `marksite init --preset blog|docs|landing` boots up ready-made content/config sets under `starters/`.
- CLI: Local `./marksite` shim for running commands without global install; README updated with clone-and-run workflow.
- Themes: Presets ship with palette overrides on top of shared base styles (blog blue, docs cyan, landing gradient purple).
- Docs: Updated content format guide and the starter post to show the install block (`docs/content-format.md`, `content/posts/welcome.md`).
- Planning: Cleaned up the roadmap to remove items not feasible on GitHub Pages (`ROADMAP.md`).

## Things to Keep in Mind
- Downloads require the asset host to allow cross-origin `fetch`; ensure the package URL responds with proper CORS headers for your domain.
- Very large downloads run entirely in the browser; prefer compressed artifacts and a CDN for best UX.
- Drafts/future posts are excluded unless `blog.includeDrafts` or `blog.allowFuture` is enabled.
- Live reload only runs locally (connects to `/__livereload`); production builds ignore it.
- The legacy content structure warning still appears (`cli.js build`); migrate to the new content dir when ready.
- If you use strict CSP, allow `fetch` to the download host and data/blob URLs for the in-browser save flow.

## Tests
- `npm run build` (pass)
